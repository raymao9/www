# æ›´æ–°æ™‚é–“ï¼š2024-01-04

[General]
bypass-system = true
dns-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query,223.5.5.5,223.6.6.6,119.29.29.29
hijack-dns = 8.8.8.8:53,8.8.4.4:53
fallback-dns-server = system
ipv6 = false
prefer-ipv6 = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
dns-direct-fallback-proxy = false
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com,*.ccb.com,*.abchina.com.cn,*.psbc.com,www.baidu.com
bypass-tun = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32

[Proxy Group]
ğŸ”° å¢ƒå¤–æµé‡ = select,ğŸ‡¹ğŸ‡¼ TW,ğŸ‡­ğŸ‡° HK,ğŸ‡ºğŸ‡¸ US,ğŸ‡¯ğŸ‡µ JP,ğŸ‡»ğŸ‡³ VN,ğŸ‡¸ğŸ‡¬ SG,interval=86400,timeout=5,select=2,url=http://www.gstatic.com/generate_204
ğŸŸ¢ å¢ƒå…§æµé‡ = select,DIRECT
ğŸŸ¡ AUTO = url-test,ğŸ‡¹ğŸ‡¼ TW,ğŸ‡­ğŸ‡° HK,ğŸ‡ºğŸ‡¸ US,ğŸ‡»ğŸ‡³ VN,ğŸ‡¸ğŸ‡¬ SG,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0
ğŸ›‘ AdBlock = select,ğŸŸ¢ å¢ƒå…§æµé‡,ğŸ”° å¢ƒå¤–æµé‡,REJECT,interval=86400,timeout=5,select=2,url=http://www.gstatic.com/generate_204
ğŸ Apple = select,ğŸŸ¢ å¢ƒå…§æµé‡,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¡ AUTO,interval=86400,timeout=5,select=3,url=http://www.gstatic.com/generate_204
â“‚ï¸ Microsoft = select,ğŸŸ¢ å¢ƒå…§æµé‡,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¡ AUTO,interval=86400,timeout=5,select=3,url=http://www.gstatic.com/generate_204
âœˆï¸ Telegram = select,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¢ å¢ƒå…§æµé‡,ğŸŸ¡ AUTO,interval=86400,timeout=5,select=2,url=http://www.gstatic.com/generate_204
ğŸ¬ BiliBili = select,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¢ å¢ƒå…§æµé‡,interval=86400,timeout=5,select=1,url=http://www.gstatic.com/generate_204
ğŸ¬ Youtube = select,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¢ å¢ƒå…§æµé‡,ğŸŸ¡ AUTO,interval=86400,timeout=5,select=3,url=http://www.gstatic.com/generate_204
ğŸ¬ Netflix = select,ğŸ‡¹ğŸ‡¼ TW, ğŸ‡­ğŸ‡° HK, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡¸ US, ğŸ‡¸ğŸ‡¬ SG,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¢ å¢ƒå…§æµé‡,interval=86400,timeout=5,select=5,url=http://www.gstatic.com/generate_204
ğŸ¬ Disney = select,ğŸ‡¹ğŸ‡¼ TW, ğŸ‡­ğŸ‡° HK, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡¸ US, ğŸ‡¸ğŸ‡¬ SG,ğŸ”° å¢ƒå¤–æµé‡,ğŸŸ¢ å¢ƒå…§æµé‡,interval=86400,timeout=5,select=5,url=http://www.gstatic.com/generate_204
ğŸ‡¹ğŸ‡¼ TW = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=TW|tw|Taiwan|taiwan|ROC|å°|å°ç£|å°æ¹¾|å°åŒ—|å°ä¸­|æ–°åŒ—|å½°åŒ–|å°å—|é«˜é›„|Hinet|TFN|APTG
ğŸ‡­ğŸ‡° HK = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=HK|hk|Hongkong|hongkong|æ¸¯|é¦™æ¸¯|HKT|HGC|WTT
ğŸ‡ºğŸ‡¸ US = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=US|us|USA|usa|ç¾|ç¾åœ‹|ç¾å›½|ç¾è¥¿|ç¾æ±|ç¾ä¸œ|ç¾åˆ©åš
ğŸ‡¯ğŸ‡µ JP = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=JP|jp|Japan|japan|æ—¥|æ—¥æœ¬|BBTEC|KDDI|Softbank|
ğŸ‡°ğŸ‡· KR = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=KR|kr|KOREA|Korea|éŸ“|å—éŸ“|éŸ“åœ‹|éŸ©|éŸ©å›½|é¦–çˆ¾|é¦–å°”|Seoul|æ˜¥å·
ğŸ‡»ğŸ‡³ VN = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=VN|vn|Vietnam|vietnam|è¶Š|è¶Šå—
ğŸ‡¸ğŸ‡¬ SG = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=SG|sg|Singapore|singapore|æ–°|æ˜Ÿ|æ–°åŠ å¡
ğŸ‡·ğŸ‡º RU = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=RU|ru|Russia|ä¿„|ä¿„åœ‹|ä¿„å›½|ä¿„ç¾…æ–¯|ä¿„ç½—æ–¯|è«æ–¯ç§‘|è–å½¼å¾—å ¡|åœ£å½¼å¾—å ¡
ğŸ‡²ğŸ‡½ MX = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=MX|mx|Mexico|å¢¨|å¢¨è¥¿å“¥
ğŸ‡¹ğŸ‡· TR = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=TR|Turkey|åœŸ|åœŸè€³å…¶|ä¼Šæ–¯å¦å ¡|ä¼Šæ–¯å¦å¸ƒå°”
ğŸ‡²ğŸ‡¾ MY = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=MY|my|Malaysia|é¦¬|é©¬|é¦¬ä¾†è¥¿äº|é©¬æ¥è¥¿äºš
ğŸ‡¬ğŸ‡§ UK = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=UK|uk|England|è‹±|è‹±åœ‹|è‹±å›½|è‹±æ ¼å…°|å€«æ•¦|ä¼¦æ•¦
ğŸ‡©ğŸ‡ª DE = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=DE|de|Deutschland|Germany|å¾·|å¾·åœ‹|å¾·å›½|å¾·æ„å¿—|æŸæ—|æ…•å°¼é»‘

[Rule]

# ä¿®æ­£è¦å‰‡é›†
RULE-SET,https://cdn.jsdelivr.net/gh/wlxuf/add_rule@main/direct-amend.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/wlxuf/add_rule@main/proxy-amend.list,ğŸ”° å¢ƒå¤–æµé‡

# ä¸€èˆ¬è¦å‰‡é›†
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/China/China.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Lan/Lan.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Apple/Apple.list,ğŸ Apple
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/AppleID/AppleID.list,ğŸ Apple
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/AppleNews/AppleNews.list,ğŸ Apple
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/AppleMedia/AppleMedia.list,ğŸ Apple
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Microsoft/Microsoft.list,â“‚ï¸ Microsoft
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/WeChat/WeChat.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Zhihu/Zhihu.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/XiaoHongShu/XiaoHongShu.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Game/Game.list,ğŸŸ¢ å¢ƒå…§æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Telegram/Telegram.list,âœˆï¸ Telegram
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Global/Global.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Speedtest/Speedtest.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/GitHub/GitHub.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Google/Google.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/OpenAI/OpenAI.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/HoYoverse/HoYoverse.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Steam/Steam.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/TVB/TVB.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/TikTok/TikTok.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Discord/Discord.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Spotify/Spotify.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/YouTube/YouTube.list,ğŸ¬ Youtube
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Netflix/Netflix.list,ğŸ¬ Netflix
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Disney/Disney.list,ğŸ¬ Disney
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Line/Line.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/LineTV/LineTV.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/KKBOX/KKBOX.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/MOMOShop/MOMOShop.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/PChomeTW/PChomeTW.list,ğŸ”° å¢ƒå¤–æµé‡
RULE-SET,https://cdn.jsdelivr.net/gh/raymao9/Rules_TW@main/Shadowrocket_TW.list,ğŸ”° å¢ƒå¤–æµé‡

DOMAIN-SUFFIX,cn,DIRECT
GEOIP,CN,DIRECT
FINAL,PROXY

[Host]
*.apple.com=server:system
*.cdn-apple.com=server:system
*.icloud.com=server:system
localhost = 127.0.0.1

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^http://(www.)?google.cn https://www.google.com 302
(?<=_region=)CN(?=&) TW 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302

[MITM]
hostname = *.google.cn,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com
